<div class="ruling-response">
    <div class="question-asked">
        <h3>Thy Query</h3>
        <p>{{ question }}</p>
    </div>

    <div class="ruling-answer">
        <h3>The Oracle Speaks</h3>
        <div class="answer-content">
            {{ answer }}
        </div>
    </div>

    {% if !cited_rules.is_empty() %}
    <div class="cited-rules">
        <h3>Referenced Passages</h3>
        <div class="rules-list compact">
            {% for rule in cited_rules %}
            <a href="/rules/{{ rule.id }}" class="rule-link">
                <span class="rule-title">{{ rule.title }}</span>
                <span class="rule-category">{{ rule.category }}</span>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <div class="ruling-actions">
        <button onclick="copyRuling()" class="btn btn-secondary">Copy Ruling</button>
        <a href="/scenario" class="btn btn-primary">Ask Another Query</a>
    </div>
</div>

<script>
function copyRuling() {
    const answer = document.querySelector('.answer-content').innerText;
    navigator.clipboard.writeText(answer).then(() => {
        alert('The ruling hath been copied to thy clipboard!');
    });
}
</script>
