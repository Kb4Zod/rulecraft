{% extends "base.html" %}

{% block title %}{{ title }} - Rulecraft{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Search Results</h1>
    {% if !query.is_empty() %}
    <p>Results for "{{ query }}"</p>
    {% endif %}
</div>

<section class="search-section">
    <form action="/search" method="get" class="search-form">
        <input type="text" name="q" value="{{ query }}" placeholder="Search rules..." class="search-input">
        <button type="submit" class="search-btn">Search</button>
    </form>
</section>

<div class="search-results">
    {% if results.is_empty() %}
    <div class="empty-state">
        {% if query.is_empty() %}
        <p>Enter a search term to find rules.</p>
        {% else %}
        <p>No rules found matching "{{ query }}". Try different keywords.</p>
        {% endif %}
    </div>
    {% else %}
    <p class="results-count">Found {{ results.len() }} result(s)</p>
    <div class="rules-list">
        {% for rule in results %}
        {% include "partials/rule_card.html" %}
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock %}
